{% extends 'base.html.twig' %}

{% block title %}Créer un compte{% endblock %}

{% block body %}
<div class="container mx-auto px-4 py-8">
    <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md">
        <h1 class="text-2xl font-bold mb-6 text-gray-800">Inscription</h1>

        {# On affiche les messages flash de succès ou d'erreur ici #}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="p-4 mb-4 rounded {{ label == 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700' }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        {# 
           Appel du composant Live. 
           C'est ici que votre classe RegistrationForm prend le relais.
        #}
        {{ component('RegistrationForm') }}

        <div class="mt-6 text-center text-sm text-gray-600">
            Déjà un compte ? 
            <a href="{{ path('app_login') }}" class="text-blue-600 hover:underline">Connectez-vous</a>
        </div>
    </div>
</div>
{% endblock %}